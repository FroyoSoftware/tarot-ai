# Tarot AI

## Project Overview

**Tarot AI** is an interactive tarot card reading application built with **React** and **Astro** on the front-end, and **Node.js** with **GraphQL** on the back-end. Users can draw a random tarot card and receive personalized interpretations generated by **OpenAI**.

### Key Features:

- **Random Tarot Card Draw**: Users can click a button to draw a random tarot card from a deck.
- **Card Interpretation**: Each drawn card is interpreted with the help of the **OpenAI API**.
- **GraphQL API**: A GraphQL server to handle dynamic queries for card data and potential future features like user profiles or saved readings.
- **Docker Support**: Docker is used to containerize the app for consistent development and deployment environments.
- **CI/CD**: The app is set up with automated **GitHub Actions** for deployment.

## Tech Stack

- **Frontend**:
  - **React** for dynamic interactions and state management.
  - **Astro** for static content rendering, integrating React components.
  - **Netlify** for automatic deployment and global CDN support.
- **Backend**:
  - **Node.js** for handling backend logic and API routes.
  - **GraphQL** for handling API queries.
  - **OpenAI** for generating tarot card interpretations.
  - **Docker** for containerization of both the front-end and back-end.

## Project Structure

```
/tarot-ai
├── /frontend
│   ├── /public                # Static files (e.g., tarot card images)
│   ├── /src                   # Source code
│   │   ├── /components        # React components (e.g., card display)
│   │   ├── /pages             # Page components (e.g., homepage)
│   │   └── /styles            # Styling files
│   ├── .gitignore             # Git ignore configuration
│   ├── package.json           # Frontend project dependencies and scripts
├── /backend
│   ├── /graphql               # GraphQL server files
│   │   ├── /resolvers         # GraphQL resolvers for handling queries
│   │   ├── /schemas           # GraphQL schema definitions
│   │   └── /models            # Models for API data (e.g., card data)
│   ├── /openai                # OpenAI integration
│   │   └── tarotCardInterpreter.js  # File handling OpenAI API requests
│   ├── /src                   # Server-side logic
│   │   ├── server.js          # Main server file for API and GraphQL server
│   ├── package.json           # Backend project dependencies and scripts
└── README.md                  # Project documentation and instructions
```

## Installation Steps

1. **Clone the repository**:

   ```bash
   git clone https://github.com/your-username/tarot-ai.git
   cd tarot-ai
   ```

2. **Install frontend dependencies**:
   Navigate to the `/frontend` directory and run:

   ```bash
   cd frontend
   npm install
   # or
   yarn install
   ```

3. **Install backend dependencies**:
   Navigate to the `/backend` directory and run:

   ```bash
   cd backend
   npm install
   # or
   yarn install
   ```

4. **Set up Docker (Optional for local development)**:
   If you'd like to run the application in Docker containers, follow these steps:

   - Build the Docker images:
     ```bash
     docker-compose build
     ```
   - Start the containers:
     ```bash
     docker-compose up
     ```

5. **Start the development servers**:

   - For the frontend:
     ```bash
     cd frontend
     npm run dev
     # or
     yarn dev
     ```
   - For the backend:
     ```bash
     cd backend
     npm run dev
     # or
     yarn dev
     ```

6. **View the app**:
   Open your browser and go to `http://localhost:3000` to see the frontend. The backend GraphQL API will be running on `http://localhost:4000` (or another port if configured).

## GraphQL Integration

- **Schema**: In the backend, we use **GraphQL** to manage and fetch data related to tarot cards.
- **Resolvers**: Define how each type of data will be fetched from your sources, including integration with OpenAI for tarot card interpretations.
- **Queries**: You can use the **GraphQL API** to query card data or readings dynamically.

Example query:

```graphql
query {
  getCardInterpretation(cardName: "The Fool") {
    name
    description
    image
  }
}
```

## OpenAI Integration

- **OpenAI API** is used to generate tarot card interpretations dynamically.
- The backend has a file located at `/backend/openai/tarotCardInterpreter.js`, which handles requests to OpenAI for generating the descriptions.

Example API call:

```js
const { Configuration, OpenAIApi } = require('openai')

const openai = new OpenAIApi(
  new Configuration({
    apiKey: process.env.OPENAI_API_KEY,
  })
)

async function getCardInterpretation(cardName) {
  const response = await openai.createCompletion({
    model: 'text-davinci-003',
    prompt: `Provide a tarot card interpretation for: ${cardName}`,
    max_tokens: 100,
  })
  return response.data.choices[0].text
}
```

## Contributing

Feel free to open issues, create pull requests, or provide suggestions for improvement. All contributions are welcome!

## Contact

- **GitHub**: FroyoSoftware (https://github.com/FroyoSoftware)
- **Email**: froyosoftware@gmail.com
